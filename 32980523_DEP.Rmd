---
title: "FIT5147 DEP S2 2022 - 32980523"
output:
  html_notebook:
    toc: yes
---

# FIT5147 \| Data Exploration Project 

## Study of Airbnb User Preferences in Chile and Australia

> The objective is to provide an easy to follow framework for analysis that allows the analyst or PhD student to walk through their entire approach in a step-by-step manner with their colleagues or PhD supervisors.

> In each of the 6-steps, the researcher is to provide their code, outputs for the code, and any comments/thoughts that may help the reader interpret the approach that was taken.

## **1. Introduction**

For this study I've chosen two cities that I'm highly familiar with:
**Santiago de Chile**, where I lived most of my life up until the age of 26; and
**Melbourne, Australia** where I\'ve lived for the past 7 years. Both of this cities are upwards of 5 million people and are visited by thousand of tourists every year.

As you will see in next section, the data sets are large enough to be
studied on their own, but I see an opportunity to perform insightful research by comparing additional destinations in Australia such as the Northern Rivers region in New South Wales and Barwon South West in Victoria. Both of these areas are popular holiday destinations, and it would be interesting to contrast their characteristics to bigger cities in the study. As a result of this analysis, I hope the findings may be of use as a set of fundamental insights to both investors seeking to understand the short term rental markets, or for public policy makers to provide guidance on regulation or infrastructure decisions.

### 1.1 Research Question 1:  Common features of popular listings across cities in the study

> What are some of the common features of popular listings in the cities included in the study? For example, can we see clusters of popularity in certain areas of the city that are near the CBD or near bars and restaurants?

### 1.2 Research Question 2:  Common features of popular listings across cities in the study

> Are there any significant differences on these features across Santiago and Melbourne suburbs? For example, are the popular areas in Santiago more concentrated compared to Melbourne?

### 1.3 Research Question 3:  How have the listing prices evolved during the last year across all cities in the study?

(TBC)

Provide any additional thoughts around the research question

-   Hypothesis

-   Potential issues or challenges

-   Potential limitations

-   Etc.

### 1.4 Environment Setup

The following libraries will be used for this project:

```{r libraries, include=FALSE}
# for all things EDA
library(tidyverse)
# for geospatial data
library(broom)
#install.packages("geojsonio")
library(mapproj)
library(geojsonio)
# for plotting
library(ggplot2)
# other libraries (potentially)

```

------------------------------------------------------------------------

## **2. Data Collection and Measurement Strategy**

### 2.1 Description of the data

The data set contains information from [Inside Airbnb](http://insideairbnb.com/get-the-data/) about four different regions:

1.  Melbourne, Australia
2.  Northern Rivers, Australia
3.  Tasmania, Australia
4.  Santiago, Chile

The following information is provide for each one of these cities:

-   Detailed listings data

-   Detailed Calendar data

-   Detailed Review data

-   GeoJSON file

-   Other... (TBC)

In addition, the study will use the last four available quarterly information released for each location.

### 2.2 Data sources

The following steps will go through loading the data that will be used throughout the project.

#### Listings

Firstly we will load Melbourne's quarterly listing information into individual data frames and combine them for inspection.

```{r}
#Loading Melbourne listings
#june 2022 listings
mel.listings.2206 <- read_csv('data/Melbourne/2022_06/listings.csv.gz', show_col_types = FALSE)
#march 2022 listings
mel.listings.2203 <- read_csv('data/Melbourne/2022_03/listings.csv.gz', show_col_types = FALSE)
# #december 2021 listings
mel.listings.2112 <- read_csv('data/Melbourne/2021_12/listings.csv.gz', show_col_types = FALSE)
# #september 2021 listings
mel.listings.2109 <- read_csv('data/Melbourne/2021_09/listings.csv.gz', show_col_types = FALSE)
```

It's reasonable to expect they all contain the same number of variables, as they come from the same data source.

```{r}
# combine data sets
mel.listings <- bind_rows(mel.listings.2206,mel.listings.2203,mel.listings.2112,mel.listings.2109, .id = "id")
```

We will follow the same process for the other locations:

```{r}
#Loading Santiago listings
#june 2022 listings
scl.listings.2206 <- read_csv('data/Santiago/2022_06/listings.csv.gz', show_col_types = FALSE)
#march 2022 listings
scl.listings.2203 <- read_csv('data/Santiago/2022_03/listings.csv.gz', show_col_types = FALSE)
# #december 2021 listings
scl.listings.2112 <- read_csv('data/Santiago/2021_12/listings.csv.gz', show_col_types = FALSE)
# #september 2021 listings
scl.listings.2109 <- read_csv('data/Santiago/2021_09/listings.csv.gz', show_col_types = FALSE)
# combine data sets
scl.listings <- bind_rows(scl.listings.2206,scl.listings.2203,scl.listings.2112,scl.listings.2109, .id = "id")

```

```{r}
#Loading  Tasmania listings
tas.listings.2206 <- read_csv('data/Tasmania/2022_06/listings.csv.gz', show_col_types = FALSE)
#march 2022 listings
tas.listings.2203 <- read_csv('data/Tasmania/2022_03/listings.csv.gz', show_col_types = FALSE)
# #december 2021 listings
tas.listings.2112 <- read_csv('data/Tasmania/2021_12/listings.csv.gz', show_col_types = FALSE)
# #september 2021 listings
tas.listings.2109 <- read_csv('data/Tasmania/2021_09/listings.csv.gz', show_col_types = FALSE)
# combine data sets
tas.listings <- bind_rows(tas.listings.2206,tas.listings.2203,tas.listings.2112,tas.listings.2109, .id = "id")
```

```{r}
#Loading  Northern Rivers listings
nr.listings.2206 <- read_csv('data/Northern_Rivers/2022_06/listings.csv.gz', show_col_types = FALSE)
#march 2022 listings
nr.listings.2203 <- read_csv('data/Northern_Rivers/2022_03/listings.csv.gz', show_col_types = FALSE)
# #december 2021 listings
nr.listings.2112 <- read_csv('data/Northern_Rivers/2021_12/listings.csv.gz', show_col_types = FALSE)
# #september 2021 listings
nr.listings.2109 <- read_csv('data/Northern_Rivers/2021_09/listings.csv.gz', show_col_types = FALSE)
# combine data sets
nr.listings <- bind_rows(tas.listings.2206,tas.listings.2203,tas.listings.2112,tas.listings.2109, .id = "id")
```

Combine all listings

```{r}
# listings dataset
all.listings <- bind_rows(mel.listings,scl.listings,nr.listings,tas.listings, .id = "id")
```

#### Reviews

### Geospatial ata

Loading the maps

### Melbourne

```{r}
# Plot it

mel.map <- geojson_read('data/Santiago/2022_06/neighbourhoods.geojson', what="sp")

ggplot() +
  geom_polygon(data = mel.map, aes( x = long, y = lat, group = group), fill="#69b3a2", color="white") +
  theme_void() +
  coord_map()
```

#### Structure of the data

#### Data issues (missing data, messy data, etc.)

#### Collection/Measurement

-   If data needs to be collected, what are the measurements being taken (clearly define the procedures and standardization)?

-   Are the measurements valid and reliable (is there potentially a need to add a research step here and conducting your own validity/reliability study before proceeding)?

#### Data Cleaning

-   What pre-processing steps were taken?

-   Clearly walk through the data cleanning process.

-   Is any data missing, if so how much?

-   Describe any imputation process for missing data.

-   If any data was removed prior to analysis explain why.

## **Step 3: Visualize & Summarize Data**

-   Once data has been collected and cleaned, provide an overview of the data using summarize statistics and visuals.

-   Offer interpretation of visuals that may help guide the model building process or generate discussion about any underlying trends in the data specific to the research question.

## **Step 4: Model Development/Interpretation**

-   Iteratively build models (simple to complex).

-   Interpret the results of each model to explain why a more complex model or different modelling strategy may be required.

## **Step 5: Model Evaluation**

-   Evaluation the final model(s), describing model errors, model accuracy, residuals, assumptions, etc.

## **Step 6: Communication of Results**

-   Communicate the results of the final model(s) in a clear manner using visualizations and language that is understandable to the end user.

-   Explain whether or not the research question has been answered.

-   Clearly discuss any limitations of the analysis.

-   Offer suggestions for future analysis or perhaps other data sets that may be incorporated to provide a more contextual answer to the research question.

### 
